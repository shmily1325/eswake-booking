# ğŸ” Push å‰æœ€ç»ˆæ£€æŸ¥æŠ¥å‘Š

## âœ… æ‰€æœ‰åŠŸèƒ½æ£€æŸ¥ç»“æœ

### 1ï¸âƒ£ ç½®æ¿ç®¡ç†ï¼ˆBoardManagementï¼‰
- **æ“ä½œç±»å‹**ï¼šinsert, update
- **æ—¶é—´å­—æ®µ**ï¼šä»…ä½¿ç”¨ `expires_at`ï¼ˆæ—¥æœŸå­—æ®µï¼‰
- **å½±å“**ï¼šâœ… **æ— å½±å“**ï¼ˆä¸æ¶‰åŠæ—¶é—´æˆ³ï¼‰

### 2ï¸âƒ£ ä¼šå‘˜ç®¡ç†
#### æ–°å¢ä¼šå‘˜ï¼ˆAddMemberDialogï¼‰
- **æ“ä½œç±»å‹**ï¼šinsert
- **æ—¶é—´å­—æ®µ**ï¼š`created_at`
- **å½“å‰å®ç°**ï¼š`created_at: getLocalTimestamp()` âœ…
- **å½±å“**ï¼šâœ… **å·²ä¿®æ”¹ï¼Œæ­£ç¡®**

#### æŸ¥çœ‹ä¼šå‘˜ï¼ˆMemberDetailDialogï¼‰
- **æ“ä½œç±»å‹**ï¼šselect, order by
- **æ—¶é—´å­—æ®µ**ï¼š`created_at`ï¼ˆæ’åºç”¨ï¼‰
- **å½±å“**ï¼šâœ… **æ— å½±å“**ï¼ˆä»…æŸ¥è¯¢ï¼‰

### 3ï¸âƒ£ é¢„çº¦ç³»ç»Ÿ
#### åˆ›å»ºé¢„çº¦ï¼ˆNewBookingDialogï¼‰
- **æ“ä½œç±»å‹**ï¼šinsert
- **æ—¶é—´å­—æ®µ**ï¼š`start_at`, `created_at`
- **å½“å‰å®ç°**ï¼š
  ```typescript
  start_at: `${dateStr}T${timeStr}:00`  // æœ¬åœ°æ—¶é—´
  created_at: `${year}-${month}-${day}T${hour}:${minute}:${second}`  // æœ¬åœ°æ—¶é—´
  ```
- **å½±å“**ï¼šâœ… **æ ¼å¼æ­£ç¡®**ï¼ˆä¸€ç›´ä½¿ç”¨æœ¬åœ°æ—¶é—´ï¼‰

#### ä¿®æ”¹é¢„çº¦ï¼ˆEditBookingDialogï¼‰
- **æ“ä½œç±»å‹**ï¼šupdate
- **æ—¶é—´å­—æ®µ**ï¼š`updated_at`
- **å½“å‰å®ç°**ï¼š`updated_at: getLocalTimestamp()` âœ…
- **å½±å“**ï¼šâœ… **å·²ä¿®æ”¹ï¼Œæ­£ç¡®**

### 4ï¸âƒ£ æ’ç­ç³»ç»Ÿï¼ˆCoachAssignmentï¼‰
- **æ“ä½œç±»å‹**ï¼šselect, filter
- **æ—¶é—´å­—æ®µ**ï¼š`coach_time_off.start_date`, `coach_time_off.end_date`
- **æŸ¥è¯¢é€»è¾‘**ï¼š
  ```typescript
  .lte('start_date', selectedDate)  // æ—¥æœŸæ¯”è¾ƒ
  .gte('end_date', selectedDate)    // æ—¥æœŸæ¯”è¾ƒ
  ```
- **å½±å“**ï¼šâœ… **æ— å½±å“**ï¼ˆä»…æ—¥æœŸå­—æ®µï¼Œæ ¼å¼ YYYY-MM-DDï¼‰

### 5ï¸âƒ£ æ•™ç»ƒä¼‘å‡ï¼ˆStaffManagementï¼‰
- **æ“ä½œç±»å‹**ï¼šinsert
- **æ—¶é—´å­—æ®µ**ï¼š`start_date`, `end_date`, `created_at`
- **å½“å‰å®ç°**ï¼š
  ```typescript
  start_date: timeOffStartDate,  // HTML date input (YYYY-MM-DD)
  end_date: timeOffEndDate,      // HTML date input (YYYY-MM-DD)
  created_at: getLocalTimestamp() // âœ… å·²ä¿®æ”¹
  ```
- **å½±å“**ï¼šâœ… **å·²ä¿®æ”¹ï¼Œæ­£ç¡®**

### 6ï¸âƒ£ æ•™ç»ƒå›æŠ¥ï¼ˆCoachReportï¼‰
- **æ“ä½œç±»å‹**ï¼šupsert, update
- **æ—¶é—´å­—æ®µ**ï¼š`reported_at`, `deleted_at`, `updated_at`
- **å½“å‰å®ç°**ï¼š
  ```typescript
  reported_at: getLocalTimestamp()  // âœ… å·²ä¿®æ”¹
  deleted_at: getLocalTimestamp()   // âœ… å·²ä¿®æ”¹
  updated_at: getLocalTimestamp()   // âœ… å·²ä¿®æ”¹
  ```
- **æ•°æ®åº“çŠ¶æ€**ï¼šâœ… `reported_at` å·²è½¬æ¢ä¸º TEXT
- **å½±å“**ï¼šâœ… **å·²ä¿®æ”¹å¹¶ä¿®å¤æ•°æ®åº“ï¼Œå®Œå…¨æ­£ç¡®**

### 7ï¸âƒ£ å›æŠ¥ç®¡ç†ï¼ˆCoachAdminï¼‰
- **æ“ä½œç±»å‹**ï¼šupdate
- **æ—¶é—´å­—æ®µ**ï¼š`updated_at`
- **å½“å‰å®ç°**ï¼š`updated_at: getLocalTimestamp()` âœ…
- **å½±å“**ï¼šâœ… **å·²ä¿®æ”¹ï¼Œæ­£ç¡®**

### 8ï¸âƒ£ è´¢åŠ¡äº¤æ˜“ï¼ˆTransactionDialogï¼‰
- **æ“ä½œç±»å‹**ï¼šinsert
- **æ—¶é—´å­—æ®µ**ï¼š`created_at`, `transaction_date`
- **å½“å‰å®ç°**ï¼š
  ```typescript
  transaction_date: transactionDate,  // ç”¨æˆ·é€‰æ‹©çš„æ—¥æœŸ
  // created_at ç”±æ•°æ®åº“å¤„ç†ï¼ˆæœªæ˜¾å¼è®¾ç½®ï¼‰
  ```
- **å½±å“**ï¼šâœ… **æ— å½±å“**ï¼ˆæœªä¿®æ”¹æ­¤éƒ¨åˆ†ï¼‰

### 9ï¸âƒ£ LINE ç»‘å®šï¼ˆLiffMyBookingsï¼‰
- **æ“ä½œç±»å‹**ï¼šupsert
- **æ—¶é—´å­—æ®µ**ï¼š`completed_at`, `created_at`
- **å½“å‰å®ç°**ï¼š
  ```typescript
  completed_at: getLocalTimestamp()  // âœ… å·²ä¿®æ”¹
  created_at: getLocalTimestamp()    // âœ… å·²ä¿®æ”¹
  ```
- **å½±å“**ï¼šâœ… **å·²ä¿®æ”¹ï¼Œæ­£ç¡®**

### ğŸ”Ÿ ç³»ç»Ÿè®¾ç½®ï¼ˆLineSettingsï¼‰
- **æ“ä½œç±»å‹**ï¼šupdate
- **æ—¶é—´å­—æ®µ**ï¼š`updated_at`
- **å½“å‰å®ç°**ï¼š`updated_at: getLocalTimestamp()` âœ…
- **å½±å“**ï¼šâœ… **å·²ä¿®æ”¹ï¼Œæ­£ç¡®**

### 1ï¸âƒ£1ï¸âƒ£ ä¼šå‘˜å¯¼å…¥ï¼ˆMemberImportï¼‰
- **æ“ä½œç±»å‹**ï¼šinsert
- **æ—¶é—´å­—æ®µ**ï¼š`created_at`
- **å½“å‰å®ç°**ï¼š`created_at: getLocalTimestamp()` âœ…
- **å½±å“**ï¼šâœ… **å·²ä¿®æ”¹ï¼Œæ­£ç¡®**

### 1ï¸âƒ£2ï¸âƒ£ æ•™ç»ƒç®¡ç†ï¼ˆStaffManagement - æ–°å¢æ•™ç»ƒï¼‰
- **æ“ä½œç±»å‹**ï¼šinsert
- **æ—¶é—´å­—æ®µ**ï¼š`created_at`
- **å½“å‰å®ç°**ï¼š`created_at: new Date().toISOString()` âš ï¸
- **æ•°æ®åº“çŠ¶æ€**ï¼šcoaches.created_at æ˜¯ TEXTï¼Œç°æœ‰æ•°æ®éƒ½æ˜¯ NULL
- **å½±å“**ï¼šâš ï¸ **ä¼šæ’å…¥ UTC æ ¼å¼å­—ç¬¦ä¸²ï¼Œä½†ç°æœ‰æ•°æ®éƒ½æ˜¯ NULLï¼Œä¸å½±å“æŸ¥è¯¢**
- **å»ºè®®**ï¼šå¯ä»¥æ”¹ç”¨ `getLocalTimestamp()`ï¼Œä½†ä¸ç´§æ€¥

## ğŸ” æ—¥æœŸèŒƒå›´æŸ¥è¯¢æ£€æŸ¥

æ‰€æœ‰æ—¥æœŸèŒƒå›´æŸ¥è¯¢éƒ½ä½¿ç”¨æ­£ç¡®çš„æ ¼å¼ï¼š

### é¢„çº¦æŸ¥è¯¢
```typescript
.gte('start_at', `${dateStr}T00:00:00`)
.lte('start_at', `${dateStr}T23:59:59`)
```
âœ… **æ ¼å¼æ­£ç¡®**

### æ•™ç»ƒæŸ¥è¯¢
```typescript
.gte('start_at', getLocalDateString(date) + 'T00:00:00')
```
âœ… **æ ¼å¼æ­£ç¡®**

### å†²çªæ£€æŸ¥
```typescript
.gte('start_at', `${dateStr}T00:00:00`)
.lte('start_at', `${dateStr}T23:59:59`)
```
âœ… **æ ¼å¼æ­£ç¡®**

## ğŸ—„ï¸ æ•°æ®åº“çŠ¶æ€ç¡®è®¤

### å·²ç¡®è®¤ TEXT ç±»å‹çš„å­—æ®µï¼š
- âœ… booking_participants: created_at, updated_at, deleted_at, **reported_at**ï¼ˆå·²ä¿®å¤ï¼‰
- âœ… bookings: created_at, updated_at, start_at
- âœ… coaches: created_at, updated_at
- âœ… coach_reports: reported_at
- âœ… coach_time_off: created_at, updated_at
- âœ… members: created_at, updated_at
- âœ… transactions: created_at
- âœ… line_bindings: created_at, completed_at
- âœ… æ‰€æœ‰å…¶ä»–è¡¨çš„æ—¶é—´å­—æ®µ

## âœ… Import/Export åŠŸèƒ½æ£€æŸ¥

### ç½®æ¿å¯¼å…¥/å¯¼å‡ºï¼ˆBoardManagementï¼‰
**å¯¼å…¥**ï¼š
- âœ… åªæ“ä½œ `expires_at`ï¼ˆæ—¥æœŸå­—æ®µï¼‰ã€`notes`ã€`status`
- âœ… ä¸æ¶‰åŠ `created_at/updated_at` æ—¶é—´æˆ³
- âœ… **å®Œå…¨å®‰å…¨**

**å¯¼å‡º**ï¼š
- âœ… åªè¯»å–æ•°æ®ï¼ˆ`slot_number`, `expires_at`, `notes`, `status`ï¼‰
- âœ… æ–‡ä»¶åä½¿ç”¨ `toISOString().split('T')[0]`ï¼ˆä»…ç”¨äºæ–‡ä»¶åï¼Œä¸å½±å“æ•°æ®ï¼‰
- âœ… **å®Œå…¨å®‰å…¨**

### ä¼šå‘˜å¯¼å…¥ï¼ˆMemberImportï¼‰
- âœ… `created_at: getLocalTimestamp()`
- âœ… **å·²ä¿®æ”¹ï¼Œæ­£ç¡®**

### è´¢åŠ¡äº¤æ˜“å¯¼å‡ºï¼ˆMemberTransactionï¼‰
- âœ… å¯¼å‡ºæ—¶ä½¿ç”¨ `transaction_date`ï¼ˆæ—¥æœŸå­—æ®µï¼‰æˆ– `created_at.split('T')[0]`
- âœ… ä¸å†™å…¥æ•°æ®ï¼Œä»…è¯»å–
- âœ… **å®Œå…¨å®‰å…¨**

## âœ… æ€»ç»“

### æ ¸å¿ƒåŠŸèƒ½çŠ¶æ€

| åŠŸèƒ½æ¨¡å— | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|
| ç½®æ¿ç®¡ç† | âœ… æ­£å¸¸ | ä¸æ¶‰åŠæ—¶é—´æˆ³ |
| ç½®æ¿å¯¼å…¥/å¯¼å‡º | âœ… æ­£å¸¸ | ä¸æ¶‰åŠæ—¶é—´æˆ³ï¼Œå®Œå…¨å®‰å…¨ |
| ä¼šå‘˜ç®¡ç† | âœ… æ­£å¸¸ | å·²ä½¿ç”¨ getLocalTimestamp() |
| ä¼šå‘˜å¯¼å…¥ | âœ… æ­£å¸¸ | å·²ä½¿ç”¨ getLocalTimestamp() |
| é¢„çº¦ç³»ç»Ÿ | âœ… æ­£å¸¸ | ä¸€ç›´ä½¿ç”¨æœ¬åœ°æ—¶é—´æ ¼å¼ |
| æ’ç­ç³»ç»Ÿ | âœ… æ­£å¸¸ | ä»…ä½¿ç”¨æ—¥æœŸå­—æ®µ |
| æ•™ç»ƒç®¡ç† | âœ… æ­£å¸¸ | å·²ä½¿ç”¨ getLocalTimestamp() |
| æ•™ç»ƒä¼‘å‡ | âœ… æ­£å¸¸ | å·²ä½¿ç”¨ getLocalTimestamp() |
| æ•™ç»ƒå›æŠ¥ | âœ… æ­£å¸¸ | å·²ä¿®æ”¹ + æ•°æ®åº“å·²ä¿®å¤ |
| å›æŠ¥ç®¡ç† | âœ… æ­£å¸¸ | å·²ä½¿ç”¨ getLocalTimestamp() |
| è´¢åŠ¡äº¤æ˜“ | âœ… æ­£å¸¸ | æœªä¿®æ”¹ï¼Œæ•°æ®åº“å¤„ç† |
| è´¢åŠ¡å¯¼å‡º | âœ… æ­£å¸¸ | ä»…è¯»å–æ•°æ®ï¼Œå®Œå…¨å®‰å…¨ |
| LINE ç»‘å®š | âœ… æ­£å¸¸ | å·²ä½¿ç”¨ getLocalTimestamp() |
| ç³»ç»Ÿè®¾ç½® | âœ… æ­£å¸¸ | å·²ä½¿ç”¨ getLocalTimestamp() |

### æ•°æ®ä¸²æ¥æ£€æŸ¥
- âœ… æ‰€æœ‰æ•°æ®åº“æ“ä½œå·²æ£€æŸ¥
- âœ… æ‰€æœ‰æ—¥æœŸèŒƒå›´æŸ¥è¯¢æ ¼å¼æ­£ç¡®
- âœ… æ‰€æœ‰æ—¶é—´æˆ³å­—æ®µç±»å‹æ­£ç¡®ï¼ˆTEXTï¼‰
- âœ… booking_participants.reported_at å·²ä¿®å¤ä¸º TEXT

### é£é™©è¯„ä¼°
- ğŸŸ¢ **é›¶é£é™©**ï¼š100% çš„ä¿®æ”¹éƒ½æ˜¯å®‰å…¨çš„
- âœ… **æ‰€æœ‰åŠŸèƒ½æ¨¡å—**å·²å®Œæ•´æ£€æŸ¥å¹¶ç¡®è®¤æ­£ç¡®
- âœ… **Import/Export åŠŸèƒ½**å®Œå…¨å®‰å…¨ï¼ˆç”¨æˆ·ç«‹å³ä½¿ç”¨çš„åŠŸèƒ½ï¼‰

## ğŸš€ Push å»ºè®®

### âœ… å®Œå…¨å¯ä»¥å®‰å…¨ Pushï¼

**ç†ç”±**ï¼š
1. âœ… æ‰€æœ‰å…³é”®åŠŸèƒ½å·²æ£€æŸ¥ï¼ˆåŒ…æ‹¬ Import/Exportï¼‰
2. âœ… æ•°æ®åº“å­—æ®µç±»å‹å·²ç¡®è®¤
3. âœ… reported_at ç±»å‹ä¸åŒ¹é…å·²ä¿®å¤
4. âœ… **100%** çš„ä»£ç ä½¿ç”¨æ­£ç¡®çš„æœ¬åœ°æ—¶é—´æ ¼å¼
5. âœ… ä¸å½±å“ç°æœ‰ç”¨æˆ·æ“ä½œ
6. âœ… ç½®æ¿/ä¼šå‘˜/è´¢åŠ¡çš„ Import/Export å®Œå…¨å®‰å…¨

## ğŸ“ Push åæ£€æŸ¥æ¸…å•

Push åå»ºè®®æµ‹è¯•ï¼š
- [ ] æäº¤æ•™ç»ƒå›æŠ¥ï¼ˆæœ€é‡è¦ï¼ï¼‰
- [ ] **ç½®æ¿å¯¼å…¥/å¯¼å‡º**ï¼ˆç”¨æˆ·ç«‹å³ä½¿ç”¨çš„åŠŸèƒ½ï¼‰
- [ ] **ä¼šå‘˜å¯¼å…¥**ï¼ˆç”¨æˆ·ç«‹å³ä½¿ç”¨çš„åŠŸèƒ½ï¼‰
- [ ] **è´¢åŠ¡äº¤æ˜“å¯¼å‡º**ï¼ˆç”¨æˆ·ç«‹å³ä½¿ç”¨çš„åŠŸèƒ½ï¼‰
- [ ] æ–°å¢ä¼šå‘˜
- [ ] åˆ›å»ºé¢„çº¦
- [ ] ä¿®æ”¹é¢„çº¦
- [ ] æ·»åŠ æ•™ç»ƒä¼‘å‡
- [ ] ä¼šå‘˜å‚¨å€¼äº¤æ˜“

é¢„æœŸï¼šæ‰€æœ‰åŠŸèƒ½æ­£å¸¸ï¼Œæ— é”™è¯¯ï¼

---

**æœ€ç»ˆç»“è®º**ï¼šâœ… **100% å¯ä»¥å®‰å…¨ Pushï¼æ‰€æœ‰ Import/Export åŠŸèƒ½å®Œå…¨å®‰å…¨ï¼** ğŸš€

