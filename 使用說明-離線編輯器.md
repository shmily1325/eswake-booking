# 離線編輯器使用說明

## ⚠️ 重要：如何正確開啟檔案

### 問題：直接雙擊開啟 HTML 檔案顯示空白

如果直接雙擊 `off-line-editor.html` 開啟，可能會看到空白頁面。這是因為瀏覽器的安全限制，阻止了外部 CDN 資源的載入。

### ✅ 解決方案：使用本地伺服器

#### 方法一：使用 Python（推薦）

1. **開啟命令提示字元（Windows）或終端（Mac/Linux）**

2. **切換到專案目錄**
   ```bash
   cd "C:\Users\PEI JU PAN\Documents\8_Projects\eswake-booking"
   ```

3. **啟動本地伺服器**
   ```bash
   # Python 3
   python -m http.server 8000
   
   # 或 Python 2
   python -m SimpleHTTPServer 8000
   ```

4. **在瀏覽器中開啟**
   ```
   http://localhost:8000/off-line-editor.html
   ```

#### 方法二：使用 Node.js

1. **安裝 http-server**
   ```bash
   npm install -g http-server
   ```

2. **在專案目錄執行**
   ```bash
   http-server -p 8000
   ```

3. **在瀏覽器中開啟**
   ```
   http://localhost:8000/off-line-editor.html
   ```

#### 方法三：使用 VS Code Live Server

1. **安裝 VS Code 擴充功能**
   - 搜尋並安裝 "Live Server"

2. **右鍵點擊 `off-line-editor.html`**
   - 選擇 "Open with Live Server"

## 📋 使用步驟

### 1. 開啟檔案

使用上述任一方法開啟 `off-line-editor.html`

### 2. 載入資料庫

首次開啟會顯示資料庫載入界面：

- **選項 A：載入 SQL 備份**
  - 點擊「📁 載入 SQL 備份檔案」
  - 選擇你的 PostgreSQL 備份 SQL 檔案
  - 系統會自動轉換並載入資料

- **選項 B：建立空白資料庫**
  - 點擊「🆕 建立空白資料庫」
  - 系統會建立空的資料庫結構

### 3. 登入

載入資料庫後，點擊「開始使用（離線模式）」按鈕登入。

### 4. 使用應用

登入後會看到與線上版本完全相同的首頁，可以開始使用各項功能。

## 🔍 故障排除

### 問題：頁面顯示「載入中...」但一直沒有反應

**可能原因：**
1. 網路連線問題，無法載入 CDN 資源
2. 瀏覽器阻止了外部資源載入
3. 使用 file:// 協議開啟（不支援）

**解決方案：**
- 使用本地伺服器開啟（見上方說明）
- 檢查瀏覽器控制台（F12）的錯誤訊息
- 確認網路連線正常

### 問題：顯示「React 未載入」錯誤

**解決方案：**
1. 檢查網路連線
2. 確認瀏覽器允許載入外部資源
3. 嘗試使用不同的瀏覽器（Chrome、Firefox、Edge）
4. 使用本地伺服器而非直接開啟檔案

### 問題：資料庫載入失敗

**解決方案：**
1. 檢查 SQL 檔案格式是否正確
2. 確保檔案是 UTF-8 編碼
3. 查看瀏覽器控制台的錯誤訊息
4. 嘗試建立空白資料庫，然後手動新增資料

## 💡 提示

- **定期備份**：資料儲存在瀏覽器 localStorage，清除瀏覽器資料會遺失所有資料
- **資料匯出**：可以從瀏覽器控制台匯出資料庫
- **性能**：SQL.js 在瀏覽器中運行，大量資料可能較慢

## 📞 需要幫助？

如果遇到問題，請：
1. 開啟瀏覽器開發者工具（F12）
2. 查看控制台（Console）的錯誤訊息
3. 檢查網路（Network）標籤，確認資源是否成功載入

---

**記住：使用本地伺服器開啟檔案，不要直接雙擊開啟！**

